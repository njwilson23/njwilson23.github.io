
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Waves</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

    
    
    

      <link href="stylesheets/main.css" rel="stylesheet">
  <link href="linear-wave/waves.css" rel="stylesheet">
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-47441592-3', 'auto');
    ga('send', 'pageview');
  </script>



  </head>
  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">
            <img class="img-navbar" src="images/mustache_mtn_bw_small_inverted.png" alt="Logo">
          </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"
                role="button" aria-expanded="false">Projects<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="http://www.ironicmtn.com/karta">karta</a></li>
                <li><a href="http://www.ironicmtn.com/narwhal">narwhal</a></li>
                <li><a href="http://www.ironicmtn.com/irlib">irlib</a></li>
              </ul>
            </li>

            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"
                role="button" aria-expanded="false">For fun<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="waves.html">Wave Tank</a></li>
                <li><a href="http://www.isitquaking.ca">Is it Quaking in Vancouver?</a></li>
              </ul>
            </li>

            <li><a href="http://web.mit.edu/~njwilson/www/">Author</a></li>
            

          </ul>
        </div>
      </div>
    </nav>

      <canvas id="waves" width="1000" height="700"></canvas> 

  <div id="results">
    <table>
      <tr>
        <td><span class="resultType">Angular frequency</span></td>
        <td><span class="result" id="om"></span></td>
      </tr><tr>
        <td><span class="resultType">Phase speed</span></td>
        <td><span class="result" id="cp"></span></td>
      </tr><tr>
        <td><span class="resultType">Group velocity</span></td>
        <td><span class="result" id="cg"></span></td>
      </tr>
    </table>
  </div>

  <div id="controls">
    <h3>Parameters</h3>

    <p>Wavenumber (k) = <span id="kValue"></span></p>
    <input id="k" type="range" inputmode="numeric" min="0.05" max="1" value="0.5" step="0.05" oninput="setInputk()"/>

    <p>Depth (H) = <span id="HValue"></span></p>
    <input id="H" type="range" inputmode="numeric" min="1" max="50" value="10" step="0.5" oninput="setInputH()"/>

    <p>Amplitude (Î·) = <span id="etaValue"></span></p>
    <input id="eta" type="range" inputmode="numeric" min="0.1" max="5" value="0.5" step="0.1" oninput="setInputeta()"/>

    <input id="reset" type="button" value="Reset" onclick="reset()"/>
  </div>

  <script type="text/javascript" src="linear-wave/linwave.js"></script>
  <script type="text/javascript">

    function setInputk() {
      k = parseFloat(document.getElementById("k").value);
      document.getElementById("kValue").textContent = k;
      updateResults();
      return;
    }

    function setInputH() {
      H = parseFloat(document.getElementById("H").value);
      L = 1.42*H;
      x = Array.apply(null, Array(n)).map(function (_, i) {return L/n*i;});
      waterclr = createWaterGradient(H);
      document.getElementById("HValue").textContent = H;
      updateResults();
      return;
    }

    function setInputeta() {
      eta = Math.min(parseFloat(document.getElementById("eta").value),
                     Math.floor(0.9*H*10)/10);
      document.getElementById("etaValue").textContent = eta;
      //updateResults();
      return;
    }

    function updateResults() {
      var k = parseFloat(document.getElementById("kValue").textContent),
          H = parseFloat(document.getElementById("HValue").textContent);
     
      var om = Math.sqrt(g*k * Math.tanh(k*H));
      var cp = Math.sqrt(g/k * Math.tanh(k*H));
      var cg = cp/2 * (1 + k*H * (1-Math.pow(Math.tanh(k*H), 2)) / (Math.tanh(k*H)));
      document.getElementById("om").textContent = Math.round(om*100)/100 + " /s";
      document.getElementById("cp").textContent = Math.round(cp*100)/100 + " m/s";
      document.getElementById("cg").textContent = Math.round(cg*100)/100 + " m/s";

    }

    function reset() {
      var defaultParams = {};
      defaultParams["k"] = 0.5;
      defaultParams["H"] = 10.0;
      defaultParams["eta"] = 0.5;

      for (var key in defaultParams) {
        if (defaultParams.hasOwnProperty(key)) {
          document.getElementById(key).value = defaultParams[key];
        }
      }

      setInputk();
      setInputH();
      setInputeta();
    }

    reset();    // set to defaults

    requestAnimationFrame(drawLoop);
  </script>



    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

    

  </body>
</html>
